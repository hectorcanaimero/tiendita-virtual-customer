<ion-header class="ion-no-border" mode="ios">
  <ion-toolbar mode="ios">
    <ion-button (click)="onClose()" fill="clear" color="danger" slot="start">
      <ion-icon slot="icon-only" name="chevron-down-outline"></ion-icon>
    </ion-button>
    <ion-title>Mi pédido</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid fixed>
    <ion-row>
      <ion-col size="12">
        <ion-label color="danger">
          <h2 class="b-6 ion-padding-bottom">Items</h2>
        </ion-label>
        <ion-row *ngFor="let item of cart$.products ; let i = index">
          <ion-col size="9">
            <ion-label>
              <h3 class="ion-text-wrap">
                {{ item.cant }}x {{ item.product.name }}
              </h3>
            </ion-label>
          </ion-col>
          <ion-col size="">
            <ion-label color="medium">
              <h3 class="ion-text-right b-6">{{ item.total | currency}}</h3>
            </ion-label>
          </ion-col>
          <ion-col size="1">
            <div class="ion-text-center">
              <ion-icon color="danger" name="ellipsis-vertical-outline" (click)="onEditItem(item, i)"></ion-icon>          
            </div>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12">
        <ion-button (click)="onAdd()" expand="full" fill="outline" color="medium" mode="ios">
          <ion-label color="danger">
            <h2>Adicionar mas items</h2>
          </ion-label>
        </ion-button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12">
        <ion-row>
          <ion-col size="9">
            <ion-label color="medium">
              <h3 class="ion-text-wrap">SubTotal</h3>
            </ion-label>
          </ion-col>
          <ion-col size="3">
            <ion-label color="medium">
              <h2 class="ion-text-right">{{ subtotal | currency}}</h2>
            </ion-label>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="9">
            <ion-label  color="medium">
              <h2 class="ion-text-wrap">Tasa de Entrega</h2>
            </ion-label>
          </ion-col>
          <ion-col size="3">
            <ion-label color="medium">
              <h2 class="ion-text-right">{{ 0 | currency}}</h2>
            </ion-label>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="8">
            <ion-label  color="dark">
              <h1 class="ion-text-wrap">Total</h1>
            </ion-label>
          </ion-col>
          <ion-col size="4">
            <ion-label color="dark">
              <h1 class="ion-text-right">{{ subtotal | currency}}</h1>
            </ion-label>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12">
        <ion-label color="danger">
          <h2 class="b-7 ion-padding-bottom">Delivery</h2>
        </ion-label>
        <ion-label *ngIf="delivery" class="ion-padding-bottom">
          <h2>{{ delivery.name }}</h2>
          <p>Identificación: {{ delivery.identification }}</p>
          <p>Teléfono: {{ delivery.phone }}</p>
          <p *ngIf="delivery.email">E-mail: {{ delivery.email }}</p>
          <p class="ion-text-wrap">Dirección: {{ delivery.address }}</p>
        </ion-label>
        <ion-button (click)="onAddress()" expand="full" fill="outline" color="medium" mode="ios">
          <ion-label color="danger">
            <h2 *ngIf="!delivery">Agregar datos de entrega</h2>
            <h2 *ngIf="delivery">Mudar los datos de entrega</h2>
          </ion-label>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
<ion-footer mode="ios">
  <ion-toolbar mode="ios" color="primary">
    <ion-button (click)="onPaid()" expand="full" color="primary">
      Hacer Pedido
    </ion-button>
  </ion-toolbar>
</ion-footer>